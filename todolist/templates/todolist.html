{% extends 'base.html' %}

{% block meta %}    
<title>My Todolist</title>
<style> 
    .card {
      width: 75%;
      height: max-content;
      transition: width 1s;
    }
    
    .card:hover {
      width: 100%;
    }
    </style>
{% endblock meta %}

{% block content %}
<nav class="navbar" style="background-color: #34495e;">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1" style="color: white;">To Do List by {{name}} - {{student_id}}</span>
      <div>
        <button style="border-radius: 10px; align-items:flex-end;"><a style="color: black; text-decoration: none;" href="{% url 'todolist:create_todolist' %}">Create New Task</a></button>
        <button style="border-radius: 10px; align-items:flex-end;"><a style="color: black; text-decoration: none;" href="{% url 'todolist:logout' %}">Logout</a></button>
      </div>
    </div>
  </nav>

<!-- <h3>Name: </h3>
<p>{{name}}</p>
<h3>Student ID: </h3>
<p>{{student_id}}</p> -->

<h3 style="text-align: center;margin-top: 20px;">Welcome, {{username}}!</h3>
<div>
{% for task in todolist %}
    <div class="card" style="margin-bottom: 10px; margin-left: auto; margin-right: auto;">
        <div class="card-body">
                    <table>
                            <th>
                                <tr>
                                    <h5 class="card-title">{{task.title}}</h5>
                                    <h6 class="card-subtitle mb-2 text-muted">{{task.date}}
                                    {% if task.finished %}
                                        <p1>Finished</p1>
                                        {% else %}
                                        <p1>Not Finished</p1>
                                    {% endif %}
                                    </h6>
                                </tr>
                                <tr>
                                    <textarea class="form-control" style="color: black; white-space: nowrap; text-overflow: ellipsis; resize: none;" class="card-text" disabled>{{task.description}}</textarea>
                                </tr>
                            </th>
                            <td class="align-items-center justify-content-center">
                            <a style="color: black; text-decoration: none; align-items: center;" href="{% url 'todolist:update_todolist' task.id %}" class="card-link">Update</a>
                            <a style="color: black; text-decoration: none; align-items: center;" href="{% url 'todolist:delete_todolist' task.id %}" class="card-link">Delete</a>
                            </td>
                    </table>
                </div>
    </div>
    {% endfor %}
</div>
  
{% endblock content %}